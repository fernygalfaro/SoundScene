<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="SoundScene: Discover personalized movie and music recommendations.">
    <title>SoundScene</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
    <script src="{{ url_for('static', filename='script.js') }}"></script>
</head>
<body>
    <header role="banner">
        <a href="{{ url_for('main.home') }}">
            <img src="{{ url_for('static', filename='Pictures/SoundSceneLogo.png') }}" alt="SoundScene Logo" class="soundscenelogo">
        </a>
        <a href="{{ url_for('main.home') }}"><h1 id="clicktitle">SoundScene</h1></a>
        <div class="topnav">
            <button id="openSearchBtn" class="search-btn">Search</button>
        </div>

        <div id="searchModal" class="modal">
            <div class="modal-content">
                <span class="close">&times;</span>
                <form action="{{ url_for('main.search') }}" method="GET">
                    <input type="text" name="query" placeholder="Search..." value="{{ request.args.get('query', '') }}">
                    <div class="dropdown">
                        <button class="dropbtn">Filter out Genre</button>
                        <div class="dropdown-content">
                            <div class="checkbox-container">
                                <input type="checkbox" id="Action" name="genres" value="28">
                                <label for="Action">Action</label>
                            </div>
                            <div class="checkbox-container">
                                <input type="checkbox" id="Animation" name="genres" value="16">
                                <label for="Animation">Animation</label>
                            </div>
                            <div class="checkbox-container">
                                <input type="checkbox" id="Adventure" name="genres" value="12">
                                <label for="Adventure">Adventure</label>
                            </div>
                            <div class="checkbox-container">
                                <input type="checkbox" id="Comedy" name="genres" value="35">
                                <label for="Comedy">Comedy</label>
                            </div>
                            <div class="checkbox-container">
                                <input type="checkbox" id="Horror" name="genres" value="27">
                                <label for="Horror">Horror</label>
                            </div>
                            <div class="checkbox-container">
                                <input type="checkbox" id="Fantasy" name="genres" value="14">
                                <label for="Fantasy">Fantasy</label>
                            </div>
                            <div class="checkbox-container">
                                <input type="checkbox" id="Family" name="genres" value="10751">
                                <label for="Family">Family</label>
                            </div>
                            <div class="checkbox-container">
                                <input type="checkbox" id="War" name="genres" value="10752">
                                <label for="War">War</label>
                            </div>
                            <div class="checkbox-container">
                                <input type="checkbox" id="Drama" name="genres" value="18">
                                <label for="Drama">Drama</label>
                            </div>
                            <div class="checkbox-container">
                                <input type="checkbox" id="Documentary" name="genres" value="99">
                                <label for="Documentary">Documentary</label>
                            </div>
                            <div class="checkbox-container">
                                <input type="checkbox" id="ScienceFiction" name="genres" value="878">
                                <label for="ScienceFiction">Science Fiction</label>
                            </div>
                            <div class="checkbox-container">
                                <input type="checkbox" id="Romance" name="genres" value="10749">
                                <label for="Romance">Romance</label>
                            </div>
                            <div class="checkbox-container">
                                <input type="checkbox" id="Crime" name="genres" value="80">
                                <label for="Crime">Crime</label>
                            </div>
                            <div class="checkbox-container">
                                <input type="checkbox" id="History" name="genres" value="36">
                                <label for="History">History</label>
                            </div>
                            <div class="checkbox-container">
                                <input type="checkbox" id="Western" name="genres" value="37">
                                <label for="Western">Western</label>
                            </div>
                            <div class="checkbox-container">
                                <input type="checkbox" id="TVMovie" name="genres" value="10770">
                                <label for="TVMovie">TV Movie</label>
                            </div>
                            <div class="checkbox-container">
                                <input type="checkbox" id="Thriller" name="genres" value="53">
                                <label for="Thriller">Thriller</label>
                            </div>
                            <div class="checkbox-container">
                                <input type="checkbox" id="Music" name="genres" value="10402">
                                <label for="Music">Music</label>
                            </div>
                            <div class="checkbox-container">
                                <input type="checkbox" id="Mystery" name="genres" value="9648">
                                <label for="Mystery">Mystery</label>
                            </div>
                        </div>
                        
                      </div>
                    <button type="submit">Search</button>
                    <button type="submit">Dont personalize search</button>
                </form>
            </div>
        </div>
    </header>
    <main class ='main-content'>
        <h2>Recommended Movies</h1>
        {% if movies %}
            <ul class ='movie-list'>
                {% for movie in movies %}
                <li class ='movie-item'>
                    <div class="'movie-poster-container">
                        <img src="{{ movie.poster_url }}" alt="{{ movie.title }} poster" class="'movie-image">
                        <div class="movie-popup">
                            <h4>{{ movie.title }}</h2>
                            <p>{{ movie.overview }}</p>
                            <p><strong>Release Year:</strong> {{ movie.release_year }}</p>
                            <p><strong>Rating:</strong> {{ movie.rating }}</p>
                            <p><strong>Runtime:</strong> {{ movie.duration }} minutes</p>
                            <p><strong>Certification:</strong> {{ movie.certification }}</p>
                        </div>
                    </div>   
                       
                </li>
                {% endfor %}
            </ul>
        {% else %}
            <p>No movies found based on your criteria.</p>
        {% endif %}
    </main>
</body>
</html>
